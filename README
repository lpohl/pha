
	pha - Perl High Availabillity

Software to keep a Scriptable Service alive on one of two Nodes.

In this Development example it is an Virtual IP and the http Service scripted trough the Shell-Scripts in ./res/.

Floders & Files: 
./README
./bin/pha-cli.pl
./bin/pha-decider.pl
./bin/pha-receiver.pl
./bin/pha-sender.pl
./etc/config
./lib/pha.pm
./res/
./res/service
./res/ipaddr
./var/run/
./var/log.receiver
./var/log.sender
./var/log.decider



# set a Shell Prompt Status indicator:

getPromptStatus()
{
        ls /opt/pha/var/run/{receiver,sender,decider} >/dev/null 2>&1
        if [ $? != 0 ]; then
                status='NOTRUNNING'
        else
                if [ "$(/opt/pha/bin/getst.pl)" == "ONLINE" ]; then
                        status='Active'
                else
                        status='Standby'
                fi
        fi
        echo $status
}
# the PS1 is to set somewhere in bashrc  or profile, some examples:

# debian 
# PS1="${debian_chroot:+($debian_chroot)}\u@\h:[\$(getPromptStatus)] \w\$ "

# RHEL 5 like
# PS1="[\u@\h:\$(getPromptStatus)] \W \\$ "



